(this["webpackJsonpwebusb-arduino-react.js"]=this["webpackJsonpwebusb-arduino-react.js"]||[]).push([[0],{12:function(e,n,t){},13:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);var o=t(1),c=t.n(o),r=t(3),i=t.n(r),u=(t(12),t(4)),d=t(5),s=t(7),a=t(6),f=t.p+"static/media/logo.6ce24c58.svg",l=(t(13),{getPorts:function(){return navigator.usb.getDevices().then((function(e){return e.map((function(e){return new l.Port(e)}))}))},requestPort:function(){return navigator.usb.requestDevice({filters:[{vendorId:9025,productId:32822},{vendorId:9025,productId:32823},{vendorId:9025,productId:32845},{vendorId:9025,productId:32846},{vendorId:9025,productId:32847},{vendorId:9025,productId:32848},{vendorId:9025,productId:32850},{vendorId:9025,productId:32851},{vendorId:9025,productId:32852},{vendorId:9025,productId:32853},{vendorId:9025,productId:32854},{vendorId:9025,productId:32855},{vendorId:9114}]}).then((function(e){return new l.Port(e)}))},Port:function(e){this.device_=e,this.interfaceNumber_=2,this.endpointIn_=5,this.endpointOut_=4}});l.Port.prototype.connect=function(){var e=this,n=function n(){e.device_.transferIn(e.endpointIn_,64).then((function(t){e.onReceive(t.data),n()}),(function(n){e.onReceiveError(n)}))};return this.device_.open().then((function(){if(null===e.device_.configuration)return e.device_.selectConfiguration(1)})).then((function(){e.device_.configuration.interfaces.forEach((function(n){n.alternates.forEach((function(t){255==t.interfaceClass&&(e.interfaceNumber_=n.interfaceNumber,t.endpoints.forEach((function(n){"out"==n.direction&&(e.endpointOut_=n.endpointNumber),"in"==n.direction&&(e.endpointIn_=n.endpointNumber)})))}))}))})).then((function(){return e.device_.claimInterface(e.interfaceNumber_)})).then((function(){return e.device_.selectAlternateInterface(e.interfaceNumber_,0)})).then((function(){return e.device_.controlTransferOut({requestType:"class",recipient:"interface",request:34,value:1,index:e.interfaceNumber_})})).then((function(){n()}))},l.Port.prototype.disconnect=function(){var e=this;return this.device_.controlTransferOut({requestType:"class",recipient:"interface",request:34,value:0,index:this.interfaceNumber_}).then((function(){return e.device_.close()}))},l.Port.prototype.send=function(e){return this.device_.transferOut(this.endpointOut_,e)};var v=l,h=t(0),p=null,g=function(e){Object(s.a)(t,e);var n=Object(a.a)(t);function t(){var e;Object(u.a)(this,t);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return(e=n.call.apply(n,[this].concat(c))).state={val:"",connect:!1},e.handleChange=function(n){e.setState({val:n.target.value})},e.keyPressed=function(n){if("Enter"===n.key){var t=new Uint8Array(1);t[0]=parseInt(e.state.val),p.send(t)}},e.connect=function(){p.connect().then((function(){e.setState({connect:!0}),p.onReceive=function(e){var n=new TextDecoder;console.log(n.decode(e))},p.onReceiveError=function(e){console.error(e)}}),(function(e){console.log(e)}))},e.connectdevice=function(){console.log("connecting"),p?(p.disconnect(),p=null,e.setState({connect:!1})):v.requestPort().then((function(n){p=n,console.log(p),e.connect()})).catch((function(e){console.log(e)}))},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.getPorts().then((function(n){0===n.length?console.log("No device found."):(console.log("Connecting..."),p=n[0],e.connect())}))}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsx)("img",{src:f,className:"App-logo",alt:"logo"}),Object(h.jsx)("button",{onClick:this.connectdevice,children:this.state.connect?"Connected":"Connect"}),Object(h.jsx)("input",{onChange:this.handleChange,onKeyPress:this.keyPressed,value:this.state.val})]})})}}]),t}(o.Component),I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,16)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),o(e),c(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root")),I()}},[[15,1,2]]]);
//# sourceMappingURL=main.ae0663b0.chunk.js.map